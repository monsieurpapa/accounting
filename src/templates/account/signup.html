{% extends 'auth_layout.html' %}
{% load i18n %}
{% load account socialaccount %}

{% block title %}{% trans "Sign Up" %} | Système de Comptabilité{% endblock %}

{% block auth_title %}{% trans "Sign Up" %}{% endblock %}

{% block auth_content %}
{% get_providers as socialaccount_providers %}

{% if socialaccount_providers %}
<div class="d-grid gap-2 mb-4">
    {% include "socialaccount/snippets/provider_list.html" with process="signup" %}
</div>

<div class="position-relative mb-4">
    <hr class="text-secondary">
    <div class="position-absolute top-50 start-50 translate-middle bg-white px-3 text-secondary small">
        {% trans "OR" %}
    </div>
</div>
{% endif %}

<form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
    {% csrf_token %}
    {% for field in form %}
    <div class="mb-3">
        <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
        <div class="input-group">
            <span class="input-group-text">
                {% if 'email' in field.name %}<i class="bi bi-envelope"></i>
                {% elif 'password' in field.name %}<i class="bi bi-lock"></i>
                {% else %}<i class="bi bi-person"></i>
                {% endif %}
            </span>
            <input type="{{ field.field.widget.input_type|default:'text' }}" name="{{ field.name }}"
                class="form-control {% if field.errors %}is-invalid{% endif %}" id="{{ field.id_for_label }}"
                placeholder="{{ field.label }}" {% if field.field.required %}required{% endif %}>
        </div>
        {% for error in field.errors %}
        <div class="invalid-feedback d-block">
            {{ error }}
        </div>
        {% endfor %}
        {% if field.help_text %}
        <div class="form-text small opacity-75">
            {{ field.help_text|safe }}
        </div>
        {% endif %}
    </div>
    {% endfor %}

    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    {% endif %}

    <div class="d-grid mt-4">
        <button class="btn btn-primary btn-lg shadow-sm" type="submit">{% trans "Sign Up" %}</button>
    </div>
</form>
{% endblock %}

{% block auth_footer %}
<div class="small">
    {% trans "Already have an account?" %} <a href="{{ login_url }}" class="text-primary fw-bold">{% trans "Sign In"
        %}</a>
</div>
{% endblock %}